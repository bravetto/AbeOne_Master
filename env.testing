# Testing Environment Configuration
# Copy this to .env for testing and adjust values

# =============================================================================
# ENVIRONMENT CONFIGURATION
# =============================================================================

# Environment: development, production, test
ENVIRONMENT=test

# Version tag for images
VERSION=dev

# =============================================================================
# CORE APPLICATION CONFIGURATION
# =============================================================================

# Application Identity
APP_NAME=aiguards-backend
APP_VERSION=1.0.0
SERVICE_NAME=codeguardians-gateway

# Server Configuration
HOST=0.0.0.0
GATEWAY_PORT=8000

# DEBUG MODE: Set to false in production!
DEBUG=true

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Database
DATABASE_URL=postgresql://codeguardians-gateway:aiguardian-db-password-2024@postgres:5432/codeguardians_test

# Database Settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_RECYCLE=300

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis Connection
REDIS_URL=redis://:aiguardian-redis-password-2024@redis:6380/0

# Redis Settings
REDIS_POOL_SIZE=10
REDIS_DB=0

# =============================================================================
# CLERK AUTHENTICATION
# =============================================================================

# Clerk Configuration (Test Keys - Replace with real ones for production)
CLERK_PUBLISHABLE_KEY=test_clerk_publishable_key
CLERK_SECRET_KEY=test_clerk_secret_key

# Clerk Settings
CLERK_ISSUER_URL=https://test.clerk.dev
CLERK_AUDIENCE=test_audience

# =============================================================================
# STRIPE PAYMENT PROCESSING
# =============================================================================

# Stripe Configuration (Test Keys)
STRIPE_PUBLISHABLE_KEY=REPLACE_ME
STRIPE_SECRET_KEY=REPLACE_ME

# Stripe Webhook Configuration
STRIPE_WEBHOOK_SECRET=whsec_test_webhook_secret_for_testing
STRIPE_WEBHOOK_TOLERANCE=300

# Stripe Settings
STRIPE_API_VERSION=2024-06-20
STRIPE_MAX_NETWORK_RETRIES=3

# =============================================================================
# FILE STORAGE (S3)
# =============================================================================

# AWS S3 Configuration
AWS_ACCESS_KEY_ID=test_aws_access_key
AWS_SECRET_ACCESS_KEY=test_aws_secret_key
AWS_DEFAULT_REGION=us-east-1
AWS_S3_BUCKET_NAME=aiguards-test-uploads

# S3 Settings
S3_ENDPOINT_URL=https://s3.amazonaws.com
S3_SIGNATURE_VERSION=s3v4

# =============================================================================
# SECURITY & CORS
# =============================================================================

# CORS Configuration
ALLOWED_ORIGINS=["http://localhost:3000", "http://localhost:8080", "http://test.example.com"]
ALLOWED_HOSTS=["localhost", "127.0.0.1", "test.example.com"]

# Security Headers
SECURE_HEADERS=true
HSTS_MAX_AGE=31536000

# =============================================================================
# LOGGING & MONITORING
# =============================================================================

# Logging Configuration
LOG_LEVEL=DEBUG
LOG_FORMAT=json

# Monitoring
PROMETHEUS_ENABLED=true
METRICS_ENABLED=true

# =============================================================================
# RATE LIMITING
# =============================================================================

# Rate Limiting Configuration
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST_MULTIPLIER=2
RATE_LIMIT_REDIS_KEY_PREFIX=aiguards:ratelimit:test

# =============================================================================
# EXTERNAL SERVICE INTEGRATIONS
# =============================================================================

# Service URLs (Docker network)
TOKENGUARD_URL=http://tokenguard:8000
TRUSTGUARD_URL=http://trustguard:8000
CONTEXTGUARD_URL=http://contextguard:8000
BIASGUARD_URL=http://biasguard:8000
HEALTHGUARD_URL=http://healthguard:8000

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Feature Flags
ENABLE_ANALYTICS=true
ENABLE_RATE_LIMITING=true
ENABLE_CIRCUIT_BREAKERS=true
ENABLE_TENANT_ISOLATION=true
ENABLE_FILE_UPLOADS=true

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================

# Testing Mode
TESTING=true
PYTEST_DISABLE_PLUGIN_AUTOLOAD=true

# Test Database (separate from main DB)
TEST_DATABASE_URL=postgresql://codeguardians-gateway:aiguardian-db-password-2024@postgres:5432/codeguardians_test

# Test Redis
TEST_REDIS_URL=redis://:aiguardian-redis-password-2024@redis:6380/1
